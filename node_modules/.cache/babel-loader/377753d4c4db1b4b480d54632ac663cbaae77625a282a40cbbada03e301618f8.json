{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import ProductCard from'../components/ProductCard';import FilterSortBar from'../components/FilterSortBar';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Home(){const[products,setProducts]=useState([]);const[filtered,setFiltered]=useState([]);const[categories,setCategories]=useState([]);const[selectedCategory,setSelectedCategory]=useState('');const[sort,setSort]=useState('');const[priceRange,setPriceRange]=useState(1000);const[currentPage,setCurrentPage]=useState(1);const perPage=10;useEffect(()=>{axios.get('https://fakestoreapi.com/products').then(res=>{setProducts(res.data);setFiltered(res.data);});axios.get('https://fakestoreapi.com/products/categories').then(res=>setCategories(res.data));},[]);useEffect(()=>{let temp=[...products];if(selectedCategory){temp=temp.filter(p=>p.category===selectedCategory);}temp=temp.filter(p=>p.price<=priceRange);if(sort==='price-asc')temp.sort((a,b)=>a.price-b.price);else if(sort==='price-desc')temp.sort((a,b)=>b.price-a.price);else if(sort==='name-asc')temp.sort((a,b)=>a.title.localeCompare(b.title));else if(sort==='name-desc')temp.sort((a,b)=>b.title.localeCompare(a.title));else if(sort==='popularity-desc')temp.sort((a,b)=>{var _b$rating,_a$rating;return(((_b$rating=b.rating)===null||_b$rating===void 0?void 0:_b$rating.rate)||0)-(((_a$rating=a.rating)===null||_a$rating===void 0?void 0:_a$rating.rate)||0);});setFiltered(temp);setCurrentPage(1);},[selectedCategory,sort,priceRange,products]);const start=(currentPage-1)*perPage;const paginated=filtered.slice(start,start+perPage);const totalPages=Math.ceil(filtered.length/perPage);return/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-12 gap-4 p-4 bg-gray-100 min-h-screen\",children:[/*#__PURE__*/_jsx(\"aside\",{className:\"col-span-12 md:col-span-3 bg-white shadow rounded p-4\",children:/*#__PURE__*/_jsx(FilterSortBar,{categories:categories,selectedCategory:selectedCategory,setCategory:setSelectedCategory,sort:sort,setSort:setSort,priceRange:priceRange,setPriceRange:setPriceRange})}),/*#__PURE__*/_jsxs(\"main\",{className:\"col-span-12 md:col-span-9\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\",children:paginated.map(product=>/*#__PURE__*/_jsx(ProductCard,{product:product},product.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center mt-6 gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"px-3 py-1 bg-gray-300 rounded\",onClick:()=>setCurrentPage(p=>Math.max(p-1,1)),disabled:currentPage===1,children:\"Prev\"}),[...Array(totalPages)].map((_,i)=>/*#__PURE__*/_jsx(\"button\",{className:\"px-3 py-1 rounded \".concat(i+1===currentPage?'bg-blue-600 text-white':'bg-gray-200'),onClick:()=>setCurrentPage(i+1),children:i+1},i)),/*#__PURE__*/_jsx(\"button\",{className:\"px-3 py-1 bg-gray-300 rounded\",onClick:()=>setCurrentPage(p=>Math.min(p+1,totalPages)),disabled:currentPage===totalPages,children:\"Next\"})]})]})]});}","map":{"version":3,"names":["React","useEffect","useState","axios","ProductCard","FilterSortBar","jsx","_jsx","jsxs","_jsxs","Home","products","setProducts","filtered","setFiltered","categories","setCategories","selectedCategory","setSelectedCategory","sort","setSort","priceRange","setPriceRange","currentPage","setCurrentPage","perPage","get","then","res","data","temp","filter","p","category","price","a","b","title","localeCompare","_b$rating","_a$rating","rating","rate","start","paginated","slice","totalPages","Math","ceil","length","className","children","setCategory","map","product","id","onClick","max","disabled","Array","_","i","concat","min"],"sources":["D:/product-showcase/src/pages/Home.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport ProductCard from '../components/ProductCard';\nimport FilterSortBar from '../components/FilterSortBar';\n\nexport default function Home() {\n  const [products, setProducts] = useState([]);\n  const [filtered, setFiltered] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [selectedCategory, setSelectedCategory] = useState('');\n  const [sort, setSort] = useState('');\n  const [priceRange, setPriceRange] = useState(1000);\n  const [currentPage, setCurrentPage] = useState(1);\n  const perPage = 10;\n\n  useEffect(() => {\n    axios.get('https://fakestoreapi.com/products')\n      .then(res => {\n        setProducts(res.data);\n        setFiltered(res.data);\n      });\n    axios.get('https://fakestoreapi.com/products/categories')\n      .then(res => setCategories(res.data));\n  }, []);\n\n  useEffect(() => {\n    let temp = [...products];\n    if (selectedCategory) {\n      temp = temp.filter(p => p.category === selectedCategory);\n    }\n    temp = temp.filter(p => p.price <= priceRange);\n\n    if (sort === 'price-asc') temp.sort((a, b) => a.price - b.price);\n    else if (sort === 'price-desc') temp.sort((a, b) => b.price - a.price);\n    else if (sort === 'name-asc') temp.sort((a, b) => a.title.localeCompare(b.title));\n    else if (sort === 'name-desc') temp.sort((a, b) => b.title.localeCompare(a.title));\n    else if (sort === 'popularity-desc') temp.sort((a, b) => (b.rating?.rate || 0) - (a.rating?.rate || 0));\n\n    setFiltered(temp);\n    setCurrentPage(1);\n  }, [selectedCategory, sort, priceRange, products]);\n\n  const start = (currentPage - 1) * perPage;\n  const paginated = filtered.slice(start, start + perPage);\n  const totalPages = Math.ceil(filtered.length / perPage);\n\n  return (\n    <div className=\"grid grid-cols-12 gap-4 p-4 bg-gray-100 min-h-screen\">\n      {/* Sidebar */}\n      <aside className=\"col-span-12 md:col-span-3 bg-white shadow rounded p-4\">\n        <FilterSortBar\n          categories={categories}\n          selectedCategory={selectedCategory}\n          setCategory={setSelectedCategory}\n          sort={sort}\n          setSort={setSort}\n          priceRange={priceRange}\n          setPriceRange={setPriceRange}\n        />\n      </aside>\n\n      {/* Product Grid */}\n      <main className=\"col-span-12 md:col-span-9\">\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\n          {paginated.map(product => (\n            <ProductCard key={product.id} product={product} />\n          ))}\n        </div>\n\n        {/* Pagination */}\n        <div className=\"flex justify-center mt-6 gap-2\">\n          <button\n            className=\"px-3 py-1 bg-gray-300 rounded\"\n            onClick={() => setCurrentPage(p => Math.max(p - 1, 1))}\n            disabled={currentPage === 1}\n          >\n            Prev\n          </button>\n          {[...Array(totalPages)].map((_, i) => (\n            <button\n              key={i}\n              className={`px-3 py-1 rounded ${i + 1 === currentPage ? 'bg-blue-600 text-white' : 'bg-gray-200'}`}\n              onClick={() => setCurrentPage(i + 1)}\n            >\n              {i + 1}\n            </button>\n          ))}\n          <button\n            className=\"px-3 py-1 bg-gray-300 rounded\"\n            onClick={() => setCurrentPage(p => Math.min(p + 1, totalPages))}\n            disabled={currentPage === totalPages}\n          >\n            Next\n          </button>\n        </div>\n      </main>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}