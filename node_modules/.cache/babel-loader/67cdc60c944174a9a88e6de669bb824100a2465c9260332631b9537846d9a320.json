{"ast":null,"code":"import{Link}from'react-router-dom';import{useCart}from'../context/CartContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ProductCard(_ref){var _product$rating,_product$rating2;let{product}=_ref;const{cart,addToCart,updateQuantity,removeFromCart}=useCart();const itemInCart=cart.find(p=>p.id===product.id);const quantityInCart=(itemInCart===null||itemInCart===void 0?void 0:itemInCart.quantity)||0;const handleDecrease=()=>{if(quantityInCart===1){removeFromCart(product.id);}else{updateQuantity(product.id,-1);}};const handleIncrease=()=>{updateQuantity(product.id,1);};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded shadow hover:shadow-md transition hover:ring-1 hover:ring-blue-300 flex flex-col justify-between\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/product/\".concat(product.id),\"aria-label\":\"View \".concat(product.title),children:[/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:product.title,className:\"h-40 object-contain mx-auto\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold mt-3 truncate\",children:product.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-green-600 font-medium mt-1\",children:[\"$\",product.price]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-yellow-500 text-sm\",children:[\"\\u2B50 \",(_product$rating=product.rating)===null||_product$rating===void 0?void 0:_product$rating.rate,\" (\",(_product$rating2=product.rating)===null||_product$rating2===void 0?void 0:_product$rating2.count,\")\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex flex-col gap-2\",children:[/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(product.id),className:\"w-full text-center px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm\",children:\"View Details\"}),quantityInCart===0?/*#__PURE__*/_jsx(\"button\",{onClick:()=>addToCart(product),className:\"w-full px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 text-sm\",children:\"Add to Cart\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex items-center justify-between gap-2 bg-green-50 border border-green-300 rounded px-2 py-1 text-sm\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleDecrease,className:\"px-2 py-1 bg-green-200 rounded hover:bg-green-300\",children:\"\\u2212\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:quantityInCart}),/*#__PURE__*/_jsx(\"button\",{onClick:handleIncrease,className:\"px-2 py-1 bg-green-200 rounded hover:bg-green-300\",children:\"+\"})]})]})]});}","map":{"version":3,"names":["Link","useCart","jsx","_jsx","jsxs","_jsxs","ProductCard","_ref","_product$rating","_product$rating2","product","cart","addToCart","updateQuantity","removeFromCart","itemInCart","find","p","id","quantityInCart","quantity","handleDecrease","handleIncrease","className","children","to","concat","title","src","image","alt","price","rating","rate","count","onClick"],"sources":["D:/product-showcase/src/components/ProductCard.jsx"],"sourcesContent":["import { Link } from 'react-router-dom';\nimport { useCart } from '../context/CartContext';\n\nexport default function ProductCard({ product }) {\n  const { cart, addToCart, updateQuantity, removeFromCart } = useCart();\n\n  const itemInCart = cart.find((p) => p.id === product.id);\n  const quantityInCart = itemInCart?.quantity || 0;\n\n  const handleDecrease = () => {\n    if (quantityInCart === 1) {\n      removeFromCart(product.id);\n    } else {\n      updateQuantity(product.id, -1);\n    }\n  };\n\n  const handleIncrease = () => {\n    updateQuantity(product.id, 1);\n  };\n\n  return (\n    <div className=\"bg-white p-4 rounded shadow hover:shadow-md transition hover:ring-1 hover:ring-blue-300 flex flex-col justify-between\">\n      {/* Clickable image & info */}\n      <Link to={`/product/${product.id}`} aria-label={`View ${product.title}`}>\n        <img\n          src={product.image}\n          alt={product.title}\n          className=\"h-40 object-contain mx-auto\"\n        />\n        <h2 className=\"text-lg font-semibold mt-3 truncate\">{product.title}</h2>\n        <p className=\"text-green-600 font-medium mt-1\">${product.price}</p>\n        <p className=\"text-yellow-500 text-sm\">\n          ⭐ {product.rating?.rate} ({product.rating?.count})\n        </p>\n      </Link>\n\n      {/* Buttons */}\n      <div className=\"mt-4 flex flex-col gap-2\">\n        <Link\n          to={`/product/${product.id}`}\n          className=\"w-full text-center px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm\"\n        >\n          View Details\n        </Link>\n\n        {quantityInCart === 0 ? (\n          <button\n            onClick={() => addToCart(product)}\n            className=\"w-full px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 text-sm\"\n          >\n            Add to Cart\n          </button>\n        ) : (\n          <div className=\"w-full flex items-center justify-between gap-2 bg-green-50 border border-green-300 rounded px-2 py-1 text-sm\">\n            <button\n              onClick={handleDecrease}\n              className=\"px-2 py-1 bg-green-200 rounded hover:bg-green-300\"\n            >\n              −\n            </button>\n            <span className=\"font-semibold\">{quantityInCart}</span>\n            <button\n              onClick={handleIncrease}\n              className=\"px-2 py-1 bg-green-200 rounded hover:bg-green-300\"\n            >\n              +\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}