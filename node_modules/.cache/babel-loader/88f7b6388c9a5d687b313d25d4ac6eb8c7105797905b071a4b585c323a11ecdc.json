{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams,Link}from'react-router-dom';import axios from'axios';import{useCart}from'../context/CartContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ProductDetail(){var _product$rating,_product$rating2;const{cart,addToCart,updateQuantity,removeFromCart}=useCart();const handleDecrease=()=>{if(quantityInCart===1){removeFromCart(product.id);}else{updateQuantity(product.id,-1);}};const{id}=useParams();const[product,setProduct]=useState(null);const[quantityInCart,setQuantityInCart]=useState(0);useEffect(()=>{axios.get(\"https://fakestoreapi.com/products/\".concat(id)).then(res=>setProduct(res.data));},[id]);useEffect(()=>{const item=cart.find(p=>p.id===(product===null||product===void 0?void 0:product.id));setQuantityInCart((item===null||item===void 0?void 0:item.quantity)||0);},[cart,product]);const increaseQty=()=>updateQuantity(product.id,1);const decreaseQty=()=>updateQuantity(product.id,-1);if(!product)return/*#__PURE__*/_jsx(\"div\",{className:\"p-4\",children:\"Loading...\"});return/*#__PURE__*/_jsx(\"div\",{className:\"p-4 max-w-4xl mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row gap-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:product.title,className:\"w-full max-h-[400px] object-contain border p-4 rounded\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 space-y-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold\",children:product.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xl text-green-600 font-semibold\",children:[\"$\",product.price]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-yellow-500\",children:[\"\\u2B50 \",(_product$rating=product.rating)===null||_product$rating===void 0?void 0:_product$rating.rate,\" (\",(_product$rating2=product.rating)===null||_product$rating2===void 0?void 0:_product$rating2.count,\" reviews)\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700\",children:product.description}),quantityInCart===0?/*#__PURE__*/_jsx(\"button\",{onClick:()=>addToCart(product),className:\"mt-4 px-5 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\",children:\"Add to Cart\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-green-700 text-sm mb-2\",children:\"\\u2714 Added to cart\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleDecrease,className:\"px-3 py-1 bg-gray-200 rounded\",children:\"\\u2212\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:quantityInCart}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateQuantity(product.id,1),className:\"px-3 py-1 bg-gray-200 rounded\",children:\"+\"}),/*#__PURE__*/_jsx(Link,{to:\"/cart\",className:\"ml-4 text-blue-600 underline text-sm\",children:\"Go to Cart\"})]})]})]})]})});}","map":{"version":3,"names":["React","useEffect","useState","useParams","Link","axios","useCart","jsx","_jsx","jsxs","_jsxs","ProductDetail","_product$rating","_product$rating2","cart","addToCart","updateQuantity","removeFromCart","handleDecrease","quantityInCart","product","id","setProduct","setQuantityInCart","get","concat","then","res","data","item","find","p","quantity","increaseQty","decreaseQty","className","children","src","image","alt","title","price","rating","rate","count","description","onClick","to"],"sources":["D:/product-showcase/src/pages/ProductDetail.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { useCart } from '../context/CartContext';\n\n\nexport default function ProductDetail() {\n  const { cart, addToCart, updateQuantity, removeFromCart } = useCart();\n  \n  const handleDecrease = () => {\n    if (quantityInCart === 1) {\n      removeFromCart(product.id);\n    } else {\n      updateQuantity(product.id, -1);\n    }\n  };\n  const { id } = useParams();\n  const [product, setProduct] = useState(null);\n  const [quantityInCart, setQuantityInCart] = useState(0);\n\n  useEffect(() => {\n    axios.get(`https://fakestoreapi.com/products/${id}`)\n      .then(res => setProduct(res.data));\n  }, [id]);\n\n  useEffect(() => {\n    const item = cart.find(p => p.id === product?.id);\n    setQuantityInCart(item?.quantity || 0);\n  }, [cart, product]);\n\n  const increaseQty = () => updateQuantity(product.id, 1);\n  const decreaseQty = () => updateQuantity(product.id, -1);\n\n  if (!product) return <div className=\"p-4\">Loading...</div>;\n\n  return (\n    <div className=\"p-4 max-w-4xl mx-auto\">\n      <div className=\"flex flex-col md:flex-row gap-8\">\n        {/* Image */}\n        <div className=\"flex-1\">\n          <img\n            src={product.image}\n            alt={product.title}\n            className=\"w-full max-h-[400px] object-contain border p-4 rounded\"\n          />\n        </div>\n\n        {/* Info */}\n        <div className=\"flex-1 space-y-4\">\n          <h1 className=\"text-3xl font-bold\">{product.title}</h1>\n          <p className=\"text-xl text-green-600 font-semibold\">${product.price}</p>\n          <p className=\"text-yellow-500\">⭐ {product.rating?.rate} ({product.rating?.count} reviews)</p>\n          <p className=\"text-gray-700\">{product.description}</p>\n\n          {/* Add to Cart or Quantity Controls */}\n          {quantityInCart === 0 ? (\n  <button\n    onClick={() => addToCart(product)}\n    className=\"mt-4 px-5 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\"\n  >\n    Add to Cart\n  </button>\n) : (\n  <div className=\"mt-4\">\n    <p className=\"text-green-700 text-sm mb-2\">✔ Added to cart</p>\n    <div className=\"flex items-center gap-2\">\n      <button\n        onClick={handleDecrease}\n        className=\"px-3 py-1 bg-gray-200 rounded\"\n      >\n        −\n      </button>\n      <span className=\"font-semibold\">{quantityInCart}</span>\n      <button\n        onClick={() => updateQuantity(product.id, 1)}\n        className=\"px-3 py-1 bg-gray-200 rounded\"\n      >\n        +\n      </button>\n      <Link\n        to=\"/cart\"\n        className=\"ml-4 text-blue-600 underline text-sm\"\n      >\n        Go to Cart\n      </Link>\n    </div>\n  </div>\n)}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,SAAS,CAAEC,IAAI,KAAQ,kBAAkB,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,OAAO,KAAQ,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAGjD,cAAe,SAAS,CAAAC,aAAaA,CAAA,CAAG,KAAAC,eAAA,CAAAC,gBAAA,CACtC,KAAM,CAAEC,IAAI,CAAEC,SAAS,CAAEC,cAAc,CAAEC,cAAe,CAAC,CAAGX,OAAO,CAAC,CAAC,CAErE,KAAM,CAAAY,cAAc,CAAGA,CAAA,GAAM,CAC3B,GAAIC,cAAc,GAAK,CAAC,CAAE,CACxBF,cAAc,CAACG,OAAO,CAACC,EAAE,CAAC,CAC5B,CAAC,IAAM,CACLL,cAAc,CAACI,OAAO,CAACC,EAAE,CAAE,CAAC,CAAC,CAAC,CAChC,CACF,CAAC,CACD,KAAM,CAAEA,EAAG,CAAC,CAAGlB,SAAS,CAAC,CAAC,CAC1B,KAAM,CAACiB,OAAO,CAAEE,UAAU,CAAC,CAAGpB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACiB,cAAc,CAAEI,iBAAiB,CAAC,CAAGrB,QAAQ,CAAC,CAAC,CAAC,CAEvDD,SAAS,CAAC,IAAM,CACdI,KAAK,CAACmB,GAAG,sCAAAC,MAAA,CAAsCJ,EAAE,CAAE,CAAC,CACjDK,IAAI,CAACC,GAAG,EAAIL,UAAU,CAACK,GAAG,CAACC,IAAI,CAAC,CAAC,CACtC,CAAC,CAAE,CAACP,EAAE,CAAC,CAAC,CAERpB,SAAS,CAAC,IAAM,CACd,KAAM,CAAA4B,IAAI,CAAGf,IAAI,CAACgB,IAAI,CAACC,CAAC,EAAIA,CAAC,CAACV,EAAE,IAAKD,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEC,EAAE,EAAC,CACjDE,iBAAiB,CAAC,CAAAM,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEG,QAAQ,GAAI,CAAC,CAAC,CACxC,CAAC,CAAE,CAAClB,IAAI,CAAEM,OAAO,CAAC,CAAC,CAEnB,KAAM,CAAAa,WAAW,CAAGA,CAAA,GAAMjB,cAAc,CAACI,OAAO,CAACC,EAAE,CAAE,CAAC,CAAC,CACvD,KAAM,CAAAa,WAAW,CAAGA,CAAA,GAAMlB,cAAc,CAACI,OAAO,CAACC,EAAE,CAAE,CAAC,CAAC,CAAC,CAExD,GAAI,CAACD,OAAO,CAAE,mBAAOZ,IAAA,QAAK2B,SAAS,CAAC,KAAK,CAAAC,QAAA,CAAC,YAAU,CAAK,CAAC,CAE1D,mBACE5B,IAAA,QAAK2B,SAAS,CAAC,uBAAuB,CAAAC,QAAA,cACpC1B,KAAA,QAAKyB,SAAS,CAAC,iCAAiC,CAAAC,QAAA,eAE9C5B,IAAA,QAAK2B,SAAS,CAAC,QAAQ,CAAAC,QAAA,cACrB5B,IAAA,QACE6B,GAAG,CAAEjB,OAAO,CAACkB,KAAM,CACnBC,GAAG,CAAEnB,OAAO,CAACoB,KAAM,CACnBL,SAAS,CAAC,wDAAwD,CACnE,CAAC,CACC,CAAC,cAGNzB,KAAA,QAAKyB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/B5B,IAAA,OAAI2B,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAEhB,OAAO,CAACoB,KAAK,CAAK,CAAC,cACvD9B,KAAA,MAAGyB,SAAS,CAAC,sCAAsC,CAAAC,QAAA,EAAC,GAAC,CAAChB,OAAO,CAACqB,KAAK,EAAI,CAAC,cACxE/B,KAAA,MAAGyB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,EAAC,SAAE,EAAAxB,eAAA,CAACQ,OAAO,CAACsB,MAAM,UAAA9B,eAAA,iBAAdA,eAAA,CAAgB+B,IAAI,CAAC,IAAE,EAAA9B,gBAAA,CAACO,OAAO,CAACsB,MAAM,UAAA7B,gBAAA,iBAAdA,gBAAA,CAAgB+B,KAAK,CAAC,WAAS,EAAG,CAAC,cAC7FpC,IAAA,MAAG2B,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAEhB,OAAO,CAACyB,WAAW,CAAI,CAAC,CAGrD1B,cAAc,GAAK,CAAC,cAC7BX,IAAA,WACEsC,OAAO,CAAEA,CAAA,GAAM/B,SAAS,CAACK,OAAO,CAAE,CAClCe,SAAS,CAAC,iEAAiE,CAAAC,QAAA,CAC5E,aAED,CAAQ,CAAC,cAET1B,KAAA,QAAKyB,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB5B,IAAA,MAAG2B,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAC,sBAAe,CAAG,CAAC,cAC9D1B,KAAA,QAAKyB,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtC5B,IAAA,WACEsC,OAAO,CAAE5B,cAAe,CACxBiB,SAAS,CAAC,+BAA+B,CAAAC,QAAA,CAC1C,QAED,CAAQ,CAAC,cACT5B,IAAA,SAAM2B,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAEjB,cAAc,CAAO,CAAC,cACvDX,IAAA,WACEsC,OAAO,CAAEA,CAAA,GAAM9B,cAAc,CAACI,OAAO,CAACC,EAAE,CAAE,CAAC,CAAE,CAC7Cc,SAAS,CAAC,+BAA+B,CAAAC,QAAA,CAC1C,GAED,CAAQ,CAAC,cACT5B,IAAA,CAACJ,IAAI,EACH2C,EAAE,CAAC,OAAO,CACVZ,SAAS,CAAC,sCAAsC,CAAAC,QAAA,CACjD,YAED,CAAM,CAAC,EACJ,CAAC,EACH,CACN,EACY,CAAC,EACH,CAAC,CACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}